<!doctype html>
<html lang="en" data-bs-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Drowsiness{% endblock %}</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #0f1220; color: #e9ecff; }
    .card { background:#151935; border: none; }
    .pill { display:inline-block; padding:.25rem .6rem; background:#232a53; border-radius:999px; margin:.1rem; font-size:.8rem; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <nav class="navbar navbar-expand-lg" style="background:#151935;">
    <div class="container">
      <a class="navbar-brand fw-bold text-light" href="/">Drowsiness API</a>
      <div class="navbar-nav">
        <a class="nav-link text-light" href="/docs">Docs</a>
        <a class="nav-link text-light" href="/drowsiness/dashboard">Dashboard</a>
      </div>
    </div>
  </nav>
  <main class="container my-4">
    {% block content %}{% endblock %}
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Simple Beep API (WebAudio) -->
  <script>
    let ac, osc, gain;
    function startBeep() {
      try {
        if (!ac) ac = new (window.AudioContext || window.webkitAudioContext)();
        if (!gain) { gain = ac.createGain(); gain.gain.value = 0.06; gain.connect(ac.destination); }
        stopBeep();
        osc = ac.createOscillator();
        osc.type = "square";
        osc.frequency.value = 1000;
        osc.connect(gain);
        osc.start();
      } catch(e) { console.warn("Audio error:", e); }
    }
    function stopBeep() { try { if (osc) { osc.stop(); osc.disconnect(); osc = null; } } catch(e) {} }
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
